<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">

<!-- Mirrored from jsimlo.sk/docs/cpu/index.php/shl.html by HTTrack Website Copier/3.x [XR&CO'2010], Wed, 12 Sep 2012 14:46:34 GMT -->
<head>
 <title>Intel Pentium Instruction Set Reference - SHL - Shift Left</title>
 <meta http-equiv="Content-Type" content="text/html; charset=windows-1250" />
 <meta name="Author" content="jsimlo@yahoo.com (Medvedik)" />
 <meta name="Robots" content="index,follow" />
 <meta name="Keywords" content="intel, pentium, instruction, instructions, reference, asm, assembly, assmebler, cpu, 80386, 386, 80486, 486, 80x86, x86" />
 <meta name="Description" content="Intel Pentium Instruction Set Reference - SHL - Shift Left" />
 <style type="text/css"><!--
  @import 'style.css';
 --></style>
</head>
<body>

<a name="go-menu"></a>

<div class="jump">
<hr />
<i>Quick navigation: [ <a href="#go-body">Jump to body</a> ]</i>
<hr />
</div>

<div id="menu">
<div id="menu-in">

<h1>Menu</h1>

<h2>Intro</h2>

<ul>
<li><a href="index.html">Home</a></li>
<li><a href="architecture.html">Architecture Overview</a></li>
<li><a href="conventions.html">Conventions</a></li>
</ul>

<h2>Instructions</h2>

<div class="ilist">
<a href="index.html#a">A</a>
<a href="index.html#b">B</a>
<a href="index.html#c">C</a>
<a href="index.html#d">D</a>
<a href="index.html#e">E</a>
<a href="index.html#f">F</a>
<a href="index.html#g">G</a>
<a href="index.html#h">H</a>
<a href="index.html#i">I</a>
<a href="index.html#j">J</a>
<a href="index.html#k">K</a>
<a href="index.html#l">L</a>
<a href="index.html#m">M</a>
<a href="index.html#n">N</a>
<a href="index.html#o">O</a>
<a href="index.html#p">P</a>
<a href="index.html#q">Q</a>
<a href="index.html#r">R</a>
<a href="index.html#s">S</a>
<a href="index.html#t">T</a>
<a href="index.html#u">U</a>
<a href="index.html#v">V</a>
<a href="index.html#w">W</a>
<a href="index.html#x">X</a>
<a href="index.html#y">Y</a>
<a href="index.html#z">Z</a>
</div>




<div class="tools" align="center">
<p>[<a href="#">jump to top</a>]</p>
</div>

</div><!-- #menu-in -->
</div><!-- #menu -->
<a name="go-body"></a>

<div class="jump">
<hr />
<i>Quick navigation: [ <a href="#go-menu">Jump to menu</a> ]</i>
<hr />
</div>

<div id="body">

<h1>Intel Pentium Instruction Set Reference</h1>

<h1>SHL - Shift Left</h1>

<table border="1" cellpadding="5" class="info">
<tr>
<th>Code</th>
<th>Mnemonic</th>
<th>Description</th>
</tr>
<tr>
<td nowrap="nowrap">D0 /4</td>
<td nowrap="nowrap">SAL r/m8, 1</td>
<td>Multiply r/m8 by 2, once</td>
</tr>
<tr>
<td nowrap="nowrap">D2 /4</td>
<td nowrap="nowrap">SAL r/m8, CL</td>
<td>Multiply r/m8 by 2, CL times</td>
</tr>
<tr>
<td nowrap="nowrap">C0 /4 ib</td>
<td nowrap="nowrap">SAL r/m8, imm8</td>
<td>Multiply r/m8 by 2, imm8 times</td>
</tr>
<tr>
<td nowrap="nowrap">D1 /4</td>
<td nowrap="nowrap">SAL r/m16, 1</td>
<td>Multiply r/m16 by 2, once</td>
</tr>
<tr>
<td nowrap="nowrap">D3 /4</td>
<td nowrap="nowrap">SAL r/m16, CL</td>
<td>Multiply r/m16 by 2, CL times</td>
</tr>
<tr>
<td nowrap="nowrap">C1 /4 ib</td>
<td nowrap="nowrap">SAL r/m16, imm8</td>
<td>Multiply r/m16 by 2, imm8 times</td>
</tr>
<tr>
<td nowrap="nowrap">D1 /4</td>
<td nowrap="nowrap">SAL r/m32, 1</td>
<td>Multiply r/m32 by 2, once</td>
</tr>
<tr>
<td nowrap="nowrap">D3 /4</td>
<td nowrap="nowrap">SAL r/m32, CL</td>
<td>Multiply r/m32 by 2, CL times</td>
</tr>
<tr>
<td nowrap="nowrap">C1 /4 ib</td>
<td nowrap="nowrap">SAL r/m32, imm8</td>
<td>Multiply r/m32 by 2, imm8 times</td>
</tr>
<tr>
<td nowrap="nowrap">D0 /7</td>
<td nowrap="nowrap">SAR r/m8, 1</td>
<td>Signed divide* r/m8 by 2, once</td>
</tr>
<tr>
<td nowrap="nowrap">D2 /7</td>
<td nowrap="nowrap">SAR r/m8, CL</td>
<td>Signed divide* r/m8 by 2, CL times</td>
</tr>
<tr>
<td nowrap="nowrap">C0 /7 ib</td>
<td nowrap="nowrap">SAR r/m8, imm8</td>
<td>Signed divide* r/m8 by 2, imm8 times</td>
</tr>
<tr>
<td nowrap="nowrap">D1 /7</td>
<td nowrap="nowrap">SAR r/m16, 1</td>
<td>Signed divide* r/m16 by 2, once</td>
</tr>
<tr>
<td nowrap="nowrap">D3 /7</td>
<td nowrap="nowrap">SAR r/m16, CL</td>
<td>Signed divide* r/m16 by 2, CL times</td>
</tr>
<tr>
<td nowrap="nowrap">C1 /7 ib</td>
<td nowrap="nowrap">SAR r/m16, imm8</td>
<td>Signed divide* r/m16 by 2, imm8 times</td>
</tr>
<tr>
<td nowrap="nowrap">D1 /7</td>
<td nowrap="nowrap">SAR r/m32, 1</td>
<td>Signed divide* r/m32 by 2, once</td>
</tr>
<tr>
<td nowrap="nowrap">D3 /7</td>
<td nowrap="nowrap">SAR r/m32, CL</td>
<td>Signed divide* r/m32 by 2, CL times</td>
</tr>
<tr>
<td nowrap="nowrap">C1 /7 ib</td>
<td nowrap="nowrap">SAR r/m32, imm8</td>
<td>Signed divide* r/m32 by 2, imm8 times</td>
</tr>
<tr>
<td nowrap="nowrap">D0 /4</td>
<td nowrap="nowrap">SHL r/m8, 1</td>
<td>Multiply r/m8 by 2, once</td>
</tr>
<tr>
<td nowrap="nowrap">D2 /4</td>
<td nowrap="nowrap">SHL r/m8, CL</td>
<td>Multiply r/m8 by 2, CL times</td>
</tr>
<tr>
<td nowrap="nowrap">C0 /4 ib</td>
<td nowrap="nowrap">SHL r/m8, imm8</td>
<td>Multiply r/m8 by 2, imm8 times</td>
</tr>
<tr>
<td nowrap="nowrap">D1 /4</td>
<td nowrap="nowrap">SHL r/m16, 1</td>
<td>Multiply r/m16 by 2, once</td>
</tr>
<tr>
<td nowrap="nowrap">D3 /4</td>
<td nowrap="nowrap">SHL r/m16, CL</td>
<td>Multiply r/m16 by 2, CL times</td>
</tr>
<tr>
<td nowrap="nowrap">C1 /4 ib</td>
<td nowrap="nowrap">SHL r/m16, imm8</td>
<td>Multiply r/m16 by 2, imm8 times</td>
</tr>
<tr>
<td nowrap="nowrap">D1 /4</td>
<td nowrap="nowrap">SHL r/m32, 1</td>
<td>Multiply r/m32 by 2, once</td>
</tr>
<tr>
<td nowrap="nowrap">D3 /4</td>
<td nowrap="nowrap">SHL r/m32, CL</td>
<td>Multiply r/m32 by 2, CL times</td>
</tr>
<tr>
<td nowrap="nowrap">C1 /4 ib</td>
<td nowrap="nowrap">SHL r/m32, imm8</td>
<td>Multiply r/m32 by 2, imm8 times</td>
</tr>
<tr>
<td nowrap="nowrap">D0 /5</td>
<td nowrap="nowrap">SHR r/m8, 1</td>
<td>Unsigned divide r/m8 by 2, once</td>
</tr>
<tr>
<td nowrap="nowrap">D2 /5</td>
<td nowrap="nowrap">SHR r/m8, CL</td>
<td>Unsigned divide r/m8 by 2, CL times</td>
</tr>
<tr>
<td nowrap="nowrap">C0 /5 ib</td>
<td nowrap="nowrap">SHR r/m8, imm8</td>
<td>Unsigned divide r/m8 by 2, imm8 times</td>
</tr>
<tr>
<td nowrap="nowrap">D1 /5</td>
<td nowrap="nowrap">SHR r/m16, 1</td>
<td>Unsigned divide r/m16 by 2, once</td>
</tr>
<tr>
<td nowrap="nowrap">D3 /5</td>
<td nowrap="nowrap">SHR r/m16, CL</td>
<td>Unsigned divide r/m16 by 2, CL times</td>
</tr>
<tr>
<td nowrap="nowrap">C1 /5 ib</td>
<td nowrap="nowrap">SHR r/m16, imm8</td>
<td>Unsigned divide r/m16 by 2, imm8 times</td>
</tr>
<tr>
<td nowrap="nowrap">D1 /5</td>
<td nowrap="nowrap">SHR r/m32, 1</td>
<td>Unsigned divide r/m32 by 2, once</td>
</tr>
<tr>
<td nowrap="nowrap">D3 /5</td>
<td nowrap="nowrap">SHR r/m32, CL</td>
<td>Unsigned divide r/m32 by 2, CL times</td>
</tr>
<tr>
<td nowrap="nowrap">C1 /5 ib</td>
<td nowrap="nowrap">SHR r/m32, imm8</td>
<td>Unsigned divide r/m32 by 2, imm8 times</td>
</tr>
</table>

<h2>Description</h2>

<p>Shifts the bits in the first operand (destination operand) to the left or right by the number of bits specified in the second operand (count operand). Bits shifted beyond the destination operand boundary are first shifted into the CF flag, then discarded. At the end of the shift operation, the CF flag contains the last bit shifted out of the destination operand.</p>

<p>The destination operand can be a register or a memory location. The count operand can be an immediate value or register CL. The count is masked to 5 bits, which limits the count range to 0 to 31. A special opcode encoding is provided for a count of 1.</p>

<p>The shift arithmetic left (SAL) and shift logical left (SHL) instructions perform the same operation; they shift the bits in the destination operand to the left (toward more significant bit locations). For each shift count, the most significant bit of the destination operand is shifted into the CF flag, and the least significant bit is cleared (see Figure 6-6 in the Intel Architecture Software Developer's Manual, Volume 1).</p>

<p>The shift arithmetic right (SAR) and shift logical right (SHR) instructions shift the bits of the destination operand to the right (toward less significant bit locations). For each shift count, the least significant bit of the destination operand is shifted into the CF flag, and the most significant bit is either set or cleared depending on the instruction type. The SHR instruction clears the most significant bit (see Figure 6-7 in the Intel Architecture Software Developer's Manual, Volume 1); the SAR instruction sets or clears the most significant bit to correspond to the sign (most significant bit) of the original value in the destination operand. In effect, the SAR instruction fills the empty bit position's shifted value with the sign of the unshifted value (see Figure 6-8 in the Intel Architecture Software Developer's Manual, Volume 1).</p>

<p>The SAR and SHR instructions can be used to perform signed or unsigned division, respectively, of the destination operand by powers of 2. For example, using the SAR instruction to shift a signed integer 1 bit to the right divides the value by 2.</p>

<p>Using the SAR instruction to perform a division operation does not produce the same result as the <a href="idiv.html">IDIV</a> instruction. The quotient from the <a href="idiv.html">IDIV</a> instruction is rounded toward zero, whereas the &quot;quotient&quot; of the SAR instruction is rounded toward negative infinity. This difference is apparent only for negative numbers. For example, when the <a href="idiv.html">IDIV</a> instruction is used to divide -9 by 4, the result is -2 with a remainder of -1. If the SAR instruction is used to shift -9 right by two bits, the result is -3 and the &quot;remainder&quot; is +3; however, the SAR instruction stores only the most significant bit of the remainder (in the CF flag).</p>

<p>The OF flag is affected only on 1-bit shifts. For left shifts, the OF flag is cleared to 0 if the most-significant bit of the result is the same as the CF flag (that is, the top two bits of the original operand were the same); otherwise, it is set to 1. For the SAR instruction, the OF flag is cleared for all 1-bit shifts. For the SHR instruction, the OF flag is set to the most-significant bit of the original operand.</p>

<table border="1" cellpadding="5" class="info">
<tr>
<th>Operands</th>
<th>Bytes</th>
<th colspan="2">Clocks</th>
</tr>
<tr>
<td>reg, 1</td>
<td>2</td>
<td>1</td>
<td>PU</td>
</tr>
<tr>
<td>mem, 1</td>
<td>2 + d(0, 2)</td>
<td>3</td>
<td>PU</td>
</tr>
<tr>
<td>reg, cl</td>
<td>2</td>
<td>4</td>
<td>NP</td>
</tr>
<tr>
<td>mem, cl</td>
<td>2 + d(0, 2)</td>
<td>4</td>
<td>NP</td>
</tr>
<tr>
<td>reg, imm</td>
<td>3</td>
<td>1</td>
<td>PU</td>
</tr>
<tr>
<td>mem, imm</td>
<td>3 + d(0, 2)</td>
<td>3</td>
<td>PU ( not pairable if there is a displacement and immediate)</td>
</tr>
</table>

<h2>Flags</h2>

<table border="1" cellpadding="5" class="info">
<tr>
<th>ID</th>
<td>unaffected</td>
<th>DF</th>
<td>unaffected</td>
</tr>
<tr>
<th>VIP</th>
<td>unaffected</td>
<th>IF</th>
<td>unaffected</td>
</tr>
<tr>
<th>VIF</th>
<td>unaffected</td>
<th>TF</th>
<td>unaffected</td>
</tr>
<tr>
<th>AC</th>
<td>unaffected</td>
<th>SF</th>
<td>sets according to the result. If the count is 0, the flag is not affected</td>
</tr>
<tr>
<th>VM</th>
<td>unaffected</td>
<th>ZF</th>
<td>sets according to the result. If the count is 0, the flag is not affected</td>
</tr>
<tr>
<th>RF</th>
<td>unaffected</td>
<th>AF</th>
<td>undefined for a non-zero count</td>
</tr>
<tr>
<th>NT</th>
<td>unaffected</td>
<th>PF</th>
<td>sets according to the result. If the count is 0, the flag is not affected</td>
</tr>
<tr>
<th>IOPL</th>
<td>unaffected</td>
<th>CF</th>
<td>ontains the value of the last bit shifted out of the destination operand; it is undefined for SHL and SHR instructions where the count is greater than or equal to the size (in bits) of the destination operand</td>
</tr>
<tr>
<th>OF</th>
<td>affected only for 1-bit shifts (see &quot;Description&quot; above); otherwise, it is undefined</td>
</tr>
</table>

</div><!-- #body -->





</div>
</body>
<!-- Mirrored from jsimlo.sk/docs/cpu/index.php/shl.html by HTTrack Website Copier/3.x [XR&CO'2010], Wed, 12 Sep 2012 14:46:34 GMT -->
</html>